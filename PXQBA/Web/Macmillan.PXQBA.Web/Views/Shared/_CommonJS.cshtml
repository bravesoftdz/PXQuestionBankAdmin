@using Macmillan.PXQBA.Business.Models
@using Macmillan.PXQBA.Web.Helpers
@using Macmillan.PXQBA.Web.ViewModels.Editor
@using Macmillan.PXQBA.Web.ViewModels.Filter
<script type="text/javascript">
    (function () {

        var actions = {};
        window.actions = actions;
        actions.questionList = {
            getQuestionListUrl: '@Url.Action("GetQuestionData", "QuestionList")',
            editQuestionFieldUrl: '@Url.Action("UpdateMetadataField", "Question")',
            getQuestionNotesUrl: '@Url.Action("GetQuestionNotes", "QuestionList")',
            createQuestionNoteUrl: '@Url.Action("CreateQuestionNote", "QuestionList")',
            deleteQuestionNotesUrl: '@Url.Action("DeleteQuestionNote", "QuestionList")',
            saveQuestionNoteUrl: '@Url.Action("SaveQuestionNote", "QuestionList")',
            getMetadataFieldsUrl:'@Url.Action("GetAvailibleMetadata", "Question")',
            getDuplicateQuestionTemplateUrl: '@Url.Action("DuplicateQuestion", "Question")',
            getNewQuestionTemplateUrl: '@Url.Action("CreateQuestion", "Question")',
            getQuestionUrl: '@Url.Action("GetQuestion", "Question")',
            updateQuestionUrl: '@Url.Action("UpdateQuestion", "Question")',
            removeFromTitleUrl: '@Url.Action("RemoveFromTitle", "Question")',
            getCourseMetadataUrl: '@Url.Action("GetMetadataForCourse", "QuestionList")',
            flagQuestionUrl: '@Url.Action("FlagQuestion", "Question")',
            
            questionListIndexTamplate: '@Html.Raw(@Url.Action("Index", "QuestionList", new { titleId = "__titleId__", chapterId = "__chapterId__" }))'
        };

        actions.questionList.buildQuestionListIndexUrl = function(titleId, chapterId) {
            if (titleId == null) {
                titleId = '';
            }

            if (chapterId == null) {
                chapterId = '';
            }

            return actions.questionList.questionListIndexTamplate.replace('__titleId__', titleId).replace('__chapterId__', chapterId);
        };

        actions.questionTitle = {
            titleListUrl: '@Url.Action("Index", "ProductCourseList")',
            getTitleDataUrl: '@Url.Action("GetTitleData", "ProductCourseList")'
        };

        actions.bulkOperations = {            
            setStatusUrl: '@Url.Action("SetStatus", "BulkOperation")',
            removeFromTitleUrl: '@Url.Action("RemoveFromTitle", "BulkOperation")',
            publishToTitle: '@Url.Action("PublishToTitle", "BulkOperation")'
        };

        actions.questionFilter = {
            getQuestionTypeListUrl: '@Url.Action("GetQuestionTypeList", "QuestionFilter")',
        };

        var enums = {};
        window.enums = enums;
        enums.orderType = {
            none: '@SortType.None.ToString().ToLower()',
            asc: '@SortType.Asc.ToString().ToLower()',
            desc: '@SortType.Desc.ToString().ToLower()',
        };

        enums.editorType = {
            none: '@EditorType.None.ToString().ToLower()',
            singleSelect: '@EditorType.SingleSelect.ToString().ToLower()',
            text: '@EditorType.Text.ToString().ToLower()',
            number: '@EditorType.Number.ToString().ToLower()',
            multiSelect: '@EditorType.MultiSelect.ToString().ToLower()'
        };


        enums.filterType = {
            none: '@FilterType.None.ToString().ToLower()',
            multiSelectWithAddition: '@FilterType.MultiSelectWithAddition.ToString().ToLower()',
            singleSelect: '@FilterType.SingleSelect.ToString().ToLower()'
        };

        enums.messages = {
            succesCreate: 'Question successfully created',
            succesUpdate: 'Question successfully updated',
            errorMessage: 'Error occurred, please try again later'
        };

        enums.dialogCaptions = {            
            newQuestion: 'New Question',
            duplicateQuestion: 'Duplicate Question',
            editQuestion: 'Edit Question'
        };

        var consts = {};
        window.consts = consts;

        consts.questionTitleName = '@MetadataFieldNames.DlapTitle';
        consts.questionStatusName = '@MetadataFieldNames.DlapStatus';
        consts.questionCourseName = '@MetadataFieldNames.ProductCourse';
        consts.questionChapterName = '@MetadataFieldNames.Chapter';
        consts.questionBankName = '@MetadataFieldNames.Bank';

        consts.grid = {
            initialFieldSet : '@GridHelper.GetInitialFieldSet()',
        };
    }
     )();
</script>