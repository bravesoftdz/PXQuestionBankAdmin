describe("Activities Widget Tests:", function () {
    beforeEach(function () {
        setFixtures('<div class="product-type-learningcurve"><div class="activitiesWidgetBody instructor"><div class="activityNameLink" url="test-url"></div><div class="Student-Activity-Report"></div><div class="Class-Activity-Report"></div></div><div id="widgetBody"></div></div>');
        
        BaseTestHelper.spy.spyOnHashHistory();
        var model = {
            viewModel: JSON.stringify({"GroupedActivities":{"LearningCurve":[{"Id":"bsi__15BEFDB0__54A3__41C9__B14C__20F7F7AC8B96","Title":"Parts of Speech: Nouns and Pronouns","Sequence":"a","DueDate":"06-10-2014","IsUserSubmitted":false,"isAssigned":true,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/nounspronouns_84C5F0&enrollmentid=121361&itemid=bsi__15BEFDB0__54A3__41C9__B14C__20F7F7AC8B96&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Due 12/31/2013"},{"Id":"bsi__354A8D93__8786__41BF__BCAD__0E0E7F2F5FB3","Title":"Parts of Speech: Adjectives and Adverbs","Sequence":"b","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/verbsadjadv_8ED7BA&enrollmentid=121361&itemid=bsi__354A8D93__8786__41BF__BCAD__0E0E7F2F5FB3&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__99EDFCEB__5DD4__4171__9D3A__0EB7AC7146F2","Title":"Parts of Speech: Prepositions and Conjunction","Sequence":"c","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/prepconj_82E545&enrollmentid=121361&itemid=bsi__99EDFCEB__5DD4__4171__9D3A__0EB7AC7146F2&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__F4B12A02__9BD2__44FA__B795__8DFD3EF1BAA2","Title":"Fragments","Sequence":"d","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/fragments_9407B1&enrollmentid=121361&itemid=bsi__F4B12A02__9BD2__44FA__B795__8DFD3EF1BAA2&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__FB65FAEB__B2E7__42E7__B309__5209DCD451C0","Title":"Run-Ons and Comma Splices","Sequence":"e","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/runons_D04E00&enrollmentid=121361&itemid=bsi__FB65FAEB__B2E7__42E7__B309__5209DCD451C0&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__8F719858__CC0B__4BF4__B708__76498B5D4F50","Title":"Subject-Verb Agreement ","Sequence":"f","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/svagreement_BD9AA7&enrollmentid=121361&itemid=bsi__8F719858__CC0B__4BF4__B708__76498B5D4F50&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__CB0D7580__61AF__4EB4__89C5__C4584B196DAE","Title":"Verb Tenses","Sequence":"g","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/verbs_1251DF&enrollmentid=121361&itemid=bsi__CB0D7580__61AF__4EB4__89C5__C4584B196DAE&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__D286980E__528D__45FC__B1AD__ABFF8C4F9A1A","Title":"Active and Passive Voice","Sequence":"h","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/activepassivevoice_670885&st=200&enrollmentid=121361&itemid=bsi__D286980E__528D__45FC__B1AD__ABFF8C4F9A1A&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__7E01182F__2341__4F17__A2DE__81D0AF64054C","Title":"Pronouns","Sequence":"i","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/pronagreepronouns_8FEDAC&enrollmentid=121361&itemid=bsi__7E01182F__2341__4F17__A2DE__81D0AF64054C&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__9ACDA3C3__EF5C__4B77__B88A__11BED70FD5F8","Title":"Parallelism","Sequence":"j","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/parallelism_35821E&enrollmentid=121361&itemid=bsi__9ACDA3C3__EF5C__4B77__B88A__11BED70FD5F8&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__3016ABEE__17B9__4D8B__9B6B__6B20F4A39DD9","Title":"Commas","Sequence":"k","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/commas_1EC1E9&enrollmentid=121361&itemid=bsi__3016ABEE__17B9__4D8B__9B6B__6B20F4A39DD9&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__FFB67DD5__B155__4A45__ABA5__4764D29EB0EE","Title":"Apostrophes","Sequence":"l","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/apostrophes_81A406&enrollmentid=121361&itemid=bsi__FFB67DD5__B155__4A45__ABA5__4764D29EB0EE&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__BC2076A2__4DC9__4B23__B774__9D26D82CEEAB","Title":"Capitalization","Sequence":"m","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/capitalization_3CA140&enrollmentid=121361&itemid=bsi__BC2076A2__4DC9__4B23__B774__9D26D82CEEAB&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__E0943CF2__BD6F__4858__B6F6__B595A63838C1","Title":"Multilingual Writers: Sentence Structure","Sequence":"n","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/RS3e_Multilingual_Writers___Sentence_Structure&st=200&enrollmentid=121361&itemid=bsi__E0943CF2__BD6F__4858__B6F6__B595A63838C1&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__7CCA7F15__7B0E__4BE6__8BE4__E21B81AB81A9","Title":"Multilingual Writers: Nouns and Articles","Sequence":"o","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/Multilingual_Writers__Nouns_and_Articles_usethis&st=200&enrollmentid=121361&itemid=bsi__7CCA7F15__7B0E__4BE6__8BE4__E21B81AB81A9&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__CC97843E__6CD4__42AB__A150__9A7B0E8E39CE","Title":"Multilingual Writers: Verbs","Sequence":"p","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/RS3e_Multilingual_Writers_Verbs&st=200&enrollmentid=121361&itemid=bsi__CC97843E__6CD4__42AB__A150__9A7B0E8E39CE&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"},{"Id":"bsi__606196A1__5059__4263__A3ED__FD2C7703A51D","Title":"Word Choice and Appropriate Language","Sequence":"q","DueDate":"01-01-0001","IsUserSubmitted":false,"isAssigned":false,"MetaTopic":"LearningCurve","UserAccess":2,"Href":"http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/RS3e_Word_Choice_and_Appropriate_Language&st=200&enrollmentid=121361&itemid=bsi__606196A1__5059__4263__A3ED__FD2C7703A51D&approot=http://lcl.bedfordstmartins.com/brainhoney","DateText":"Assign"}]},"isSortable":false,"Userspace":"bfwusers","EnrollmentId":"121361","CourseUrl":null,"UserAccess":2}),
            viewPath: 'Summary',
            viewModelType: 'Bfw.PX.PXPub.Models.ActivitiesWidget'
        }
        BaseTestHelper.api.setFixtureFromCache(model, 'ActivitiesWidget', 'target','#widgetBody');
        
    });

    it("LearningCurve sample links should not contain useEasyXdm=true query", function () {
        PxActivitiesWidget.Init();
        var studentSampleReportLink = $('.Student-Activity-Report').attr('href');
        var classSampleReportLink = $('.Class-Activity-Report').attr('href');

        expect(studentSampleReportLink.indexOf('useEasyXdm=true')).toBe(-1);
        expect(classSampleReportLink.indexOf('useEasyXdm=true')).toBe(-1);

    });

    it('When unassigning LearningCurve Activity, its class "activityNameLink" and "reportLink" should not be removed', function () {
        spyOn($, 'ajax').andCallFake(function (e) {
            e.success();
        });
        PxActivitiesWidget.Init();
        var itemRow = $('.itemRow[data-aw-id="bsi__15BEFDB0__54A3__41C9__B14C__20F7F7AC8B96"]');
        itemRow.append('<input type="button" class="unassignButtonLC" id="bsi__15BEFDB0__54A3__41C9__B14C__20F7F7AC8B96" />')
        itemRow.find('.unassignButtonLC').click();
        expect(itemRow.find('.activityNameLink').length != 0).toBeTruthy();
        expect(itemRow.find('.reportLink').length != 0).toBeTruthy();
    });

    describe("Test deep linking", function() {
        beforeEach(function () {
            setFixtures('<div class="product-type-learningcurve"><a id="createCourseLink" class="fne-link fixed" href="/learningcurve/writersref7e/87259/Course/ShowCreateCourse" style="display:none;">Create a Course</a></div>');

            BaseTestHelper.spy.spyOnHashHistory();
            var model = {
                viewModel: JSON.stringify({ "GroupedActivities": { "LearningCurve": [{ "Id": "bsi__15BEFDB0__54A3__41C9__B14C__20F7F7AC8B96", "Title": "Parts of Speech: Nouns and Pronouns", "Sequence": "a", "DueDate": "06-10-2014", "IsUserSubmitted": false, "isAssigned": true, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/nounspronouns_84C5F0&enrollmentid=121361&itemid=bsi__15BEFDB0__54A3__41C9__B14C__20F7F7AC8B96&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Due 12/31/2013" }, { "Id": "bsi__354A8D93__8786__41BF__BCAD__0E0E7F2F5FB3", "Title": "Parts of Speech: Adjectives and Adverbs", "Sequence": "b", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/verbsadjadv_8ED7BA&enrollmentid=121361&itemid=bsi__354A8D93__8786__41BF__BCAD__0E0E7F2F5FB3&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__99EDFCEB__5DD4__4171__9D3A__0EB7AC7146F2", "Title": "Parts of Speech: Prepositions and Conjunction", "Sequence": "c", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/prepconj_82E545&enrollmentid=121361&itemid=bsi__99EDFCEB__5DD4__4171__9D3A__0EB7AC7146F2&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__F4B12A02__9BD2__44FA__B795__8DFD3EF1BAA2", "Title": "Fragments", "Sequence": "d", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/fragments_9407B1&enrollmentid=121361&itemid=bsi__F4B12A02__9BD2__44FA__B795__8DFD3EF1BAA2&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__FB65FAEB__B2E7__42E7__B309__5209DCD451C0", "Title": "Run-Ons and Comma Splices", "Sequence": "e", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/runons_D04E00&enrollmentid=121361&itemid=bsi__FB65FAEB__B2E7__42E7__B309__5209DCD451C0&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__8F719858__CC0B__4BF4__B708__76498B5D4F50", "Title": "Subject-Verb Agreement ", "Sequence": "f", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/svagreement_BD9AA7&enrollmentid=121361&itemid=bsi__8F719858__CC0B__4BF4__B708__76498B5D4F50&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__CB0D7580__61AF__4EB4__89C5__C4584B196DAE", "Title": "Verb Tenses", "Sequence": "g", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/verbs_1251DF&enrollmentid=121361&itemid=bsi__CB0D7580__61AF__4EB4__89C5__C4584B196DAE&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__D286980E__528D__45FC__B1AD__ABFF8C4F9A1A", "Title": "Active and Passive Voice", "Sequence": "h", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/activepassivevoice_670885&st=200&enrollmentid=121361&itemid=bsi__D286980E__528D__45FC__B1AD__ABFF8C4F9A1A&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__7E01182F__2341__4F17__A2DE__81D0AF64054C", "Title": "Pronouns", "Sequence": "i", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/pronagreepronouns_8FEDAC&enrollmentid=121361&itemid=bsi__7E01182F__2341__4F17__A2DE__81D0AF64054C&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__9ACDA3C3__EF5C__4B77__B88A__11BED70FD5F8", "Title": "Parallelism", "Sequence": "j", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/parallelism_35821E&enrollmentid=121361&itemid=bsi__9ACDA3C3__EF5C__4B77__B88A__11BED70FD5F8&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__3016ABEE__17B9__4D8B__9B6B__6B20F4A39DD9", "Title": "Commas", "Sequence": "k", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/commas_1EC1E9&enrollmentid=121361&itemid=bsi__3016ABEE__17B9__4D8B__9B6B__6B20F4A39DD9&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__FFB67DD5__B155__4A45__ABA5__4764D29EB0EE", "Title": "Apostrophes", "Sequence": "l", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/apostrophes_81A406&enrollmentid=121361&itemid=bsi__FFB67DD5__B155__4A45__ABA5__4764D29EB0EE&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__BC2076A2__4DC9__4B23__B774__9D26D82CEEAB", "Title": "Capitalization", "Sequence": "m", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/capitalization_3CA140&enrollmentid=121361&itemid=bsi__BC2076A2__4DC9__4B23__B774__9D26D82CEEAB&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__E0943CF2__BD6F__4858__B6F6__B595A63838C1", "Title": "Multilingual Writers: Sentence Structure", "Sequence": "n", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/RS3e_Multilingual_Writers___Sentence_Structure&st=200&enrollmentid=121361&itemid=bsi__E0943CF2__BD6F__4858__B6F6__B595A63838C1&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__7CCA7F15__7B0E__4BE6__8BE4__E21B81AB81A9", "Title": "Multilingual Writers: Nouns and Articles", "Sequence": "o", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/Multilingual_Writers__Nouns_and_Articles_usethis&st=200&enrollmentid=121361&itemid=bsi__7CCA7F15__7B0E__4BE6__8BE4__E21B81AB81A9&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__CC97843E__6CD4__42AB__A150__9A7B0E8E39CE", "Title": "Multilingual Writers: Verbs", "Sequence": "p", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/RS3e_Multilingual_Writers_Verbs&st=200&enrollmentid=121361&itemid=bsi__CC97843E__6CD4__42AB__A150__9A7B0E8E39CE&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }, { "Id": "bsi__606196A1__5059__4263__A3ED__FD2C7703A51D", "Title": "Word Choice and Appropriate Language", "Sequence": "q", "DueDate": "01-01-0001", "IsUserSubmitted": false, "isAssigned": false, "MetaTopic": "LearningCurve", "UserAccess": 2, "Href": "http://dev-learningcurve.bfwpub.com/index.php?file=english/RealSkills3eLC/RS3e_Word_Choice_and_Appropriate_Language&st=200&enrollmentid=121361&itemid=bsi__606196A1__5059__4263__A3ED__FD2C7703A51D&approot=http://lcl.bedfordstmartins.com/brainhoney", "DateText": "Assign" }] }, "isSortable": false, "Userspace": "bfwusers", "EnrollmentId": "121361", "CourseUrl": null, "UserAccess": 2 }),
                viewPath: 'Summary',
                viewModelType: 'Bfw.PX.PXPub.Models.ActivitiesWidget'
            }
            BaseTestHelper.api.setFixtureFromCache(model, 'ActivitiesWidget', 'target', '#widgetBody');

        });
        it('When click on "Create a new course", expect hash change to "#createCourse"', function () {
            PxActivitiesWidget.Init();
            $('#createCourseLink').click();
            expect(window.location.hash).toBe('#createCourse');
        });
    });
});